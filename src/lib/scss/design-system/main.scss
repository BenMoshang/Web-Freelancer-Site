/**
 * Design System - Main Entry Point
 * --------------------------------------------------
 * This is the main entry point for the design system. It imports and forwards
 * all modules in the correct order to ensure proper dependency resolution.
 *
 * The import order is crucial:
 * 1. Tokens: Raw design values (colors, typography, spacing)
 * 2. Utils: Helper functions and mixins that depend on tokens
 * 3. Responsive: Layout and responsive utilities
 * 4. Base: Global styles and default element styling
 *
 * @example
 * @use 'path/to/design-system/main';
 */

// Import tokens first (raw design values)
@forward 'tokens';

// Import utils (for mixins and functions)
@forward 'utils';

// Import responsive utilities
@forward 'responsive';

// Import base styles
@forward 'base';

// Import and apply themes
@use 'tokens/alias/themes/themes';
@include themes.export-theme-variables();

/*=========================================
=            View Transitions            =
=========================================*/
/**
 * View Transitions API Integration
 * --------------------------------------------------
 * These styles enable smooth transitions when navigating between pages
 * using the View Transitions API.
 * 
 * @link https://developer.mozilla.org/en-US/docs/Web/API/View_Transitions_API
 */

/* Enable view transitions for history navigations (push/replace) */
@view-transition {
	navigation: auto;
}

/* Set a universal animation duration for view transition groups */
::view-transition-old(root),
::view-transition-new(root) {
	animation-duration: 1s;

	/* Optional: add an easing function */
	animation-timing-function: cubic-bezier(0.23, 1, 0.32, 1);
}

/**
 * Outgoing View Animation (Slide Left with Fade)
 * Slides the old view to the left while fading it out
 */
@keyframes fadeOutSlideLeft {
	from {
		transform: translateX(0);
		opacity: 1;
	}

	to {
		transform: translateX(-100%);
		opacity: 0;
	}
}

/**
 * Incoming View Animation (Slide Right with Fade)
 * Slides the new view in from the right while fading it in
 */
@keyframes fadeInSlideRight {
	from {
		transform: translateX(100%);
		opacity: 0;
	}

	to {
		transform: translateX(0);
		opacity: 1;
	}
}

/* Apply the animation to the outgoing snapshot */
::view-transition-old(root) {
	animation-name: fadeOutSlideLeft;
}

/* Apply the animation to the incoming snapshot */
::view-transition-new(root) {
	animation-name: fadeInSlideRight;
}
